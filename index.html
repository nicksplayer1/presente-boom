 <!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>üéÅüéâüéâüéâüéâüéâ Presente + V√≠deo (Glass)</title>

  <style>
    :root{
      --bg1:#050812;
      --bg2:#0b1230;
      --txt: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.72);
      --stroke: rgba(255,255,255,.14);
      --shadow: 0 24px 80px rgba(0,0,0,.55);
      --r: 22px;
      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
    }

    *{box-sizing:border-box}
    html,body{height:100%}

    body{
      margin:0;
      font-family:var(--font);
      color:var(--txt);
      overflow:hidden;
      background:
        radial-gradient(900px 700px at 20% 18%, rgba(120,80,255,.30) 0%, transparent 60%),
        radial-gradient(900px 700px at 82% 22%, rgba(255,90,190,.24) 0%, transparent 62%),
        radial-gradient(1100px 900px at 50% 110%, rgba(70,210,255,.15) 0%, transparent 60%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
    }

    /* estrelas discretas */
    .stars{
      position:fixed;
      inset:-30%;
      background-image:
        radial-gradient(2px 2px at 20px 30px, rgba(255,255,255,.45) 40%, transparent 45%),
        radial-gradient(1px 1px at 90px 120px, rgba(255,255,255,.30) 40%, transparent 45%),
        radial-gradient(2px 2px at 210px 80px, rgba(255,255,255,.22) 40%, transparent 45%),
        radial-gradient(1px 1px at 320px 210px, rgba(255,255,255,.18) 40%, transparent 45%),
        radial-gradient(2px 2px at 430px 140px, rgba(255,255,255,.22) 40%, transparent 45%),
        radial-gradient(1px 1px at 520px 260px, rgba(255,255,255,.18) 40%, transparent 45%);
      background-size: 560px 320px;
      opacity:.55;
      animation: drift 18s linear infinite;
      pointer-events:none;
      filter: blur(.2px);
      z-index: 0;
    }
    @keyframes drift{
      from{transform: translate3d(0,0,0)}
      to{transform: translate3d(-120px, 80px, 0)}
    }

    /* palco central */
    .stage{
      position:fixed;
      inset:0;
      display:grid;
      place-items:center;
      padding:24px;
      z-index: 5;
    }

    .headline{
      position:absolute;
      top:18px;
      left:0; right:0;
      text-align:center;
      pointer-events:none;
      padding: 0 14px;
    }
    .headline h1{
      margin:0;
      font-size: clamp(22px, 4.4vw, 44px);
      font-weight:900;
      letter-spacing:.2px;
      text-shadow: 0 18px 60px rgba(0,0,0,.60);
    }
    .headline p{
      margin:10px 0 0;
      font-size: clamp(12px, 2.2vw, 14px);
      color: rgba(255,255,255,.82);
      text-shadow: 0 14px 50px rgba(0,0,0,.55);
      opacity:.95;
    }

    /* presente */
    .giftWrap{
      position:relative;
      display:grid;
      place-items:center;
      gap:12px;
      cursor:pointer;
      user-select:none;
      transform: translateY(14px);
    }

    .tap{
      font-size:13px;
      color: rgba(255,255,255,.86);
      padding:10px 14px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      backdrop-filter: blur(10px);
      box-shadow: 0 20px 60px rgba(0,0,0,.45);
      max-width:min(520px, 90vw);
      text-align:center;
    }

    .gift3d{
      width: 240px;
      height: 240px;
      position:relative;
      transform-style: preserve-3d;
      filter: drop-shadow(0 28px 70px rgba(0,0,0,.55));
      animation: float 3.2s ease-in-out infinite;
    }
    @keyframes float{
      0%,100%{transform: translateY(0) rotateX(12deg) rotateY(-12deg)}
      50%{transform: translateY(-10px) rotateX(14deg) rotateY(-8deg)}
    }

    /* caixa glass */
    .box{
      position:absolute;
      inset: 24px;
      border-radius: 28px;
      border: 1px solid rgba(255,255,255,.22);
      background: linear-gradient(135deg, rgba(255,255,255,.14), rgba(255,255,255,.04));
      backdrop-filter: blur(12px);
      overflow:hidden;
    }
    .box:before{
      content:"";
      position:absolute;
      inset:-40%;
      background: radial-gradient(circle at 30% 20%, rgba(255,255,255,.55), transparent 48%);
      transform: rotate(15deg);
      opacity:.35;
    }
    .box:after{
      content:"";
      position:absolute;
      inset:0;
      background:
        radial-gradient(140px 120px at 70% 30%, rgba(255,90,190,.22), transparent 60%),
        radial-gradient(160px 140px at 25% 80%, rgba(70,210,255,.18), transparent 60%);
      opacity:.9;
      mix-blend-mode: screen;
    }

    /* tampa */
    .lid{
      position:absolute;
      left: 18px; right:18px;
      top: 10px;
      height: 74px;
      border-radius: 26px;
      border: 1px solid rgba(255,255,255,.22);
      background: linear-gradient(135deg, rgba(255,255,255,.16), rgba(255,255,255,.06));
      backdrop-filter: blur(12px);
      transform-origin: 50% 100%;
      box-shadow: 0 18px 45px rgba(0,0,0,.35);
      overflow:hidden;
    }
    .lid:before{
      content:"";
      position:absolute;
      inset:-60%;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.70), transparent 55%);
      transform: rotate(18deg);
      opacity:.35;
    }

    /* fita neon */
    .ribbonV, .ribbonH{
      position:absolute;
      inset:0;
      pointer-events:none;
    }
    .ribbonV:before{
      content:"";
      position:absolute;
      top: 12px; bottom: 18px;
      left: 50%;
      width: 18px;
      transform: translateX(-50%);
      border-radius: 999px;
      background: linear-gradient(180deg, rgba(255,90,190,.95), rgba(70,210,255,.85));
      filter: drop-shadow(0 0 18px rgba(255,90,190,.35));
      opacity:.9;
    }
    .ribbonH:before{
      content:"";
      position:absolute;
      left: 28px; right: 28px;
      top: 50%;
      height: 18px;
      transform: translateY(-50%);
      border-radius: 999px;
      background: linear-gradient(90deg, rgba(70,210,255,.90), rgba(255,90,190,.90));
      filter: drop-shadow(0 0 18px rgba(70,210,255,.30));
      opacity:.9;
    }

    /* la√ßo */
    .bow{
      position:absolute;
      top: 24px;
      left: 50%;
      transform: translateX(-50%);
      width: 86px;
      height: 56px;
      pointer-events:none;
      filter: drop-shadow(0 18px 30px rgba(0,0,0,.35));
    }
    .bow:before, .bow:after{
      content:"";
      position:absolute;
      top: 12px;
      width: 38px;
      height: 30px;
      border-radius: 18px 18px 18px 6px;
      background: linear-gradient(135deg, rgba(255,90,190,.95), rgba(70,210,255,.85));
      opacity:.92;
    }
    .bow:before{left:0; transform: rotate(-18deg)}
    .bow:after{right:0; transform: rotate(18deg); border-radius: 18px 18px 6px 18px;}
    .knot{
      position:absolute;
      top: 22px;
      left: 50%;
      transform: translateX(-50%);
      width: 18px;
      height: 18px;
      border-radius: 8px;
      background: rgba(255,255,255,.82);
      opacity:.35;
    }

    /* brilho */
    .glow{
      position:absolute;
      inset:-40%;
      background: radial-gradient(circle at 50% 55%, rgba(255,255,255,.20), transparent 55%);
      opacity:.9;
      pointer-events:none;
    }

    /* part√≠culas */
    canvas#fx{
      position:absolute;
      inset:-80px;
      width: calc(100% + 160px);
      height: calc(100% + 160px);
      pointer-events:none;
    }

    /* anima√ß√£o abrir */
    .opening .lid{ animation: lidPop .65s cubic-bezier(.2,.9,.1,1) forwards; }
    @keyframes lidPop{
      0%{transform: rotateX(0deg) translateY(0)}
      60%{transform: rotateX(55deg) translateY(-12px)}
      100%{transform: rotateX(70deg) translateY(-18px)}
    }
    .opening .gift3d{ animation: punch .75s ease forwards; }
    @keyframes punch{
      0%{transform: translateY(0) rotateX(12deg) rotateY(-12deg) scale(1)}
      50%{transform: translateY(-6px) rotateX(16deg) rotateY(-6deg) scale(1.02)}
      100%{transform: translateY(-2px) rotateX(14deg) rotateY(-10deg) scale(1.00)}
    }

    /* overlay v√≠deo */
    .overlay{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,.88);
      display:none;
      place-items:center;
      z-index:9999;
      padding:14px;
    }
    .overlay.show{display:grid;}
    .videoBox{
      width:min(1024px, 100%);
      border-radius: 20px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(16,16,22,.72);
      box-shadow: var(--shadow);
      overflow:hidden;
      backdrop-filter: blur(14px);
    }
    .videoTop{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border-bottom:1px solid rgba(255,255,255,.10);
    }
    .videoTop .t{
      font-size:13px;
      color: rgba(255,255,255,.90);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width: 78vw;
    }
    .btn{
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.10);
      color: var(--txt);
      padding:8px 10px;
      cursor:pointer;
      font-size:13px;
      display:inline-flex;
      gap:8px;
      align-items:center;
      text-decoration:none;
    }
    .btn:hover{ background: rgba(255,255,255,.14); }

    video{
      width:100%;
      height: min(78vh, 680px);
      background:#000;
      display:block;
    }

    @media (max-width: 520px){
      .gift3d{ width: 210px; height: 210px; }
    }
  </style>
</head>

<body>
  <div class="stars"></div>

  <div class="stage" id="stage">
    <div class="headline">
      <h1 id="outTitle"></h1>
      <p id="outCaption"></p>
    </div>

    <div class="giftWrap" id="giftWrap" aria-label="Abrir presente">
      <div class="gift3d" id="gift3d">
        <canvas id="fx"></canvas>
        <div class="glow"></div>

        <div class="lid" id="lid"></div>

        <div class="box"></div>
        <div class="ribbonV"></div>
        <div class="ribbonH"></div>
        <div class="bow"><div class="knot"></div></div>
      </div>

      <div class="tap" id="tapText">‚ú® Toque no presente pra abrir a surpresa</div>
    </div>
  </div>

  <div class="overlay" id="overlay" aria-hidden="true">
    <div class="videoBox">
      <div class="videoTop">
        <div class="t" id="videoTitle">üé¨ V√≠deo</div>
        <div style="display:flex; gap:8px; flex-wrap:wrap;">
          <button class="btn" id="btnFullscreen" type="button">‚õ∂ Fullscreen</button>
          <button class="btn" id="btnClose" type="button">‚úñÔ∏è Fechar</button>
        </div>
      </div>
      <video id="video" controls playsinline preload="metadata"></video>
    </div>
  </div>

  <script>
    // ======= EDITA AQUI NO TXT =======
    const TITLE = "safada! üéâüéâüéâüéâ";
    const CAPTION = "mim abre papai";

    // Coloque "video.mp4" na mesma pasta do index, ou use uma URL direta (mp4/webm).
    // Se deixar vazio, o presente ainda aparece, mas vai avisar que n√£o tem v√≠deo.
    const VIDEO_URL = "video.mp4";
    // =================================

    const $ = (s)=>document.querySelector(s);

    const outTitle   = $("#outTitle");
    const outCaption = $("#outCaption");
    const tapText    = $("#tapText");

    const giftWrap = $("#giftWrap");
    const gift3d   = $("#gift3d");

    const overlay       = $("#overlay");
    const video         = $("#video");
    const videoTitle    = $("#videoTitle");
    const btnClose      = $("#btnClose");
    const btnFullscreen = $("#btnFullscreen");

    let opening = false;

    outTitle.textContent = TITLE || "Hoje √© dia de comemorar! üéâ";
    outCaption.textContent = CAPTION || "";
    outCaption.style.display = (CAPTION && CAPTION.trim()) ? "block" : "none";
    tapText.textContent = CAPTION ? `‚ú® ${CAPTION}` : "‚ú® Toque no presente pra abrir a surpresa";

    // FX: part√≠culas sparkle
    const canvas = $("#fx");
    const ctx = canvas.getContext("2d", { alpha: true });

    let W = 0, H = 0;
    let particles = [];
    let raf = 0;

    function resizeFX(){
      const rect = gift3d.getBoundingClientRect();
      const dpr = Math.max(1, window.devicePixelRatio || 1);

      W = Math.max(1, Math.floor(rect.width * dpr));
      H = Math.max(1, Math.floor(rect.height * dpr));

      canvas.width = W;
      canvas.height = H;
    }

    window.addEventListener("resize", resizeFX, { passive: true });
    resizeFX();

    function spawnBurst(){
      resizeFX();
      particles = [];
      cancelAnimationFrame(raf);

      const dpr = Math.max(1, window.devicePixelRatio || 1);
      const cx = W/2;
      const cy = H/2 + 10*dpr;

      const n = 120;
      for(let i=0;i<n;i++){
        const a = Math.random() * Math.PI * 2;
        const sp = (Math.random()*3.2 + 2.4) * dpr;

        particles.push({
          x: cx,
          y: cy,
          vx: Math.cos(a)*sp,
          vy: Math.sin(a)*sp - (Math.random()*2.2*dpr),
          r: (Math.random()*2.2 + 0.8)*dpr,
          life: 1,
          dl: Math.random()*0.018 + 0.012,
          tw: Math.random()*0.8 + 0.2
        });
      }

      tick();
    }

    function tick(){
      ctx.clearRect(0,0,W,H);
      let alive = 0;

      const dpr = Math.max(1, window.devicePixelRatio || 1);

      for(const p of particles){
        p.vy += 0.08 * dpr;
        p.x += p.vx;
        p.y += p.vy;
        p.life -= p.dl;

        if(p.life > 0){
          alive++;
          const alpha = p.life;
          const glow = (p.tw + Math.sin((1-alpha)*10))*0.5;
          const hue = (p.x / W) * 360;

          ctx.save();
          ctx.globalAlpha = alpha * 0.9;
          ctx.fillStyle = `hsla(${hue}, 90%, 65%, ${alpha})`;
          ctx.beginPath();
          ctx.arc(p.x, p.y, p.r*(1+glow*0.8), 0, Math.PI*2);
          ctx.fill();

          ctx.globalAlpha = alpha * 0.22;
          ctx.fillStyle = `hsla(${hue}, 100%, 85%, ${alpha})`;
          ctx.beginPath();
          ctx.arc(p.x, p.y, p.r*2.2*(1+glow), 0, Math.PI*2);
          ctx.fill();
          ctx.restore();
        }
      }

      if(alive > 0){
        raf = requestAnimationFrame(tick);
      }else{
        ctx.clearRect(0,0,W,H);
      }
    }

    function tryEnterFullscreen(el){
      try{
        if(el.requestFullscreen) return el.requestFullscreen();
        if(el.webkitRequestFullscreen) return el.webkitRequestFullscreen();
        if(el.webkitEnterFullscreen) return el.webkitEnterFullscreen();
      }catch(e){}
    }

    async function openGift(){
      if(opening) return;

      // sempre anima o presente (mesmo sem v√≠deo)
      opening = true;
      giftWrap.classList.add("opening");
      spawnBurst();

      await new Promise(r=>setTimeout(r, 650));
      giftWrap.classList.remove("opening");

      if(!VIDEO_URL || !String(VIDEO_URL).trim()){
        opening = false;
        alert("Sem v√≠deo: edite a vari√°vel VIDEO_URL no arquivo.");
        return;
      }

      overlay.classList.add("show");
      overlay.setAttribute("aria-hidden", "false");

      videoTitle.textContent = (TITLE || "V√≠deo").trim();
      video.src = VIDEO_URL;

      try{
        await video.play(); // clique do usu√°rio -> permite √°udio
      }catch(e){
        // se o browser bloquear, o usu√°rio d√° play no controls
        console.warn("play bloqueado:", e);
      }

      tryEnterFullscreen(video);
      opening = false;
    }

    giftWrap.addEventListener("click", openGift);

    btnClose.addEventListener("click", ()=>{
      overlay.classList.remove("show");
      overlay.setAttribute("aria-hidden", "true");
      try{ video.pause(); }catch(e){}
    });

    btnFullscreen.addEventListener("click", ()=> tryEnterFullscreen(video));

    overlay.addEventListener("click", (e)=>{
      if(e.target === overlay){
        overlay.classList.remove("show");
        overlay.setAttribute("aria-hidden", "true");
        try{ video.pause(); }catch(e){}
      }
    });
  </script>
</body>
</html>




